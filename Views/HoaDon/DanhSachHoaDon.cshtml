@* Views/HoaDon/DanhSachHoaDon.cshtml *@
@model IEnumerable<WebsiteBanHang.Models.HoaDon>

@{
    ViewData["Title"] = "Danh Sách Hóa Đơn";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="page-title">
    <h2>Danh Sách Hóa Đơn</h2>
</div>

<section class="hoa-don-section">
    <div class="container-fluid">
        @if (Model == null || !Model.Any())
        {
            <p class="no-data">Không có hóa đơn nào để hiển thị.</p>
        }
        else
        {
            <div class="table-responsive">
                <table class="hoa-don-table">
                    <thead>
                        <tr>
                            <th>Số Hóa Đơn</th>
                            <th>Ngày Đặt</th>
                            <th>Ngày Giao Dự Kiến</th>
                            <th>Phương Thức Thanh Toán</th>
                            <th>Trạng Thái</th>
                            <th>Tên Khách Hàng</th>
                            <th>Chi Tiết</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var hd in Model)
                        {
                            <tr>
                                <td data-label="Số Hóa Đơn">@hd.SoHD</td>
                                <td data-label="Ngày Đặt">@hd.NgayDat.ToString("dd/MM/yyyy")</td>
                                <td data-label="Ngày Giao Dự Kiến">@hd.NgayGiaoDuKien.ToString("dd/MM/yyyy")</td>
                                <td data-label="Phương Thức Thanh Toán">@hd.PTTT?.TenPT</td>
                                <td data-label="Trạng Thái">@hd.LichSuTTHD.FirstOrDefault()?.TrangThai?.TenTT</td>
                                <td data-label="Tên Khách Hàng">@hd.KhachHang?.TenKH</td>
                                <td data-label="Chi Tiết">
                                    <a href="@Url.Action("ChiTietHoaDon", "HoaDon", new { id = hd.SoHD })" class="btn btn-primary btn-sm">Xem</a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        }
    </div>
</section>

@section Scripts {
    <link rel="stylesheet" href="~/css/Web_HoaDon_DanhSachHoaDon.css" asp-append-version="true" />
}